{"openapi":"3.0.0","paths":{"/v1/users":{"get":{"operationId":"一覧取得","summary":"","parameters":[{"name":"offset","required":true,"in":"query","schema":{"minimum":0,"title":"offset","default":0,"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"minimum":0,"maximum":200,"title":"limit","default":25,"type":"number"}}],"responses":{"200":{"description":""}},"tags":["ユーザー"]}},"/v1/users/{user_id}":{"get":{"operationId":"取得","summary":"","parameters":[{"name":"nsaid","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""},"404":{"description":""}},"tags":["ユーザー"]}},"/v1/stats":{"get":{"operationId":"統計取得","summary":"","parameters":[{"name":"is_clear","required":true,"in":"query","schema":{"type":"boolean"}},{"name":"nsaid","required":true,"in":"query","schema":{"type":"string"}},{"name":"start_time","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatsResultsDto"}}}},"404":{"description":""}},"tags":["統計"]}},"/v1/results/{salmon_id}":{"get":{"operationId":"取得","summary":"","parameters":[{"name":"salmon_id","required":true,"in":"path","description":"リザルトID","schema":{"type":"integer"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Result"}}}},"404":{"description":""}},"tags":["リザルト"]},"put":{"operationId":"更新","summary":"","parameters":[{"name":"salmon_id","required":true,"in":"path","description":"リザルトID","schema":{"type":"integer"}}],"responses":{"404":{"description":""}},"tags":["リザルト"]},"delete":{"operationId":"削除","summary":"","parameters":[{"name":"salmon_id","required":true,"in":"path","description":"リザルトID","schema":{"type":"integer"}}],"responses":{"404":{"description":""}},"tags":["リザルト"]}},"/v1/results":{"get":{"operationId":"一括取得","summary":"","parameters":[{"name":"offset","required":true,"in":"query","schema":{"minimum":0,"title":"offset","default":0,"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"minimum":0,"maximum":200,"title":"limit","default":25,"type":"number"}},{"name":"start_time","required":false,"in":"query","description":"スケジュールID","schema":{"title":"","type":"number"}},{"name":"nsaid","required":false,"in":"query","description":"プレイヤーID","schema":{"title":"","type":"string"}},{"name":"is_clear","required":false,"in":"query","description":"クリアしたリザルトのみ","schema":{"title":"","type":"boolean"}},{"name":"no_night_waves","required":false,"in":"query","description":"夜イベントを含まないかどうか","schema":{"title":"","type":"boolean"}},{"name":"golden_ikura_num","required":false,"in":"query","description":"最小納品金イクラ数","schema":{"title":"","type":"number"}},{"name":"ikura_num","required":false,"in":"query","description":"最小取得赤イクラ数","schema":{"title":"","type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfResult","allOf":[{"$ref":"#/components/schemas/PaginatedDto"},{"properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/Result"}}}}]}}}}},"tags":["リザルト"]},"post":{"operationId":"登録","summary":"","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Results"}}}},"responses":{"200":{"description":""},"400":{"description":""}},"tags":["リザルト"]}},"/v1/ranks":{"get":{"operationId":"ユーザランク取得","summary":"","parameters":[{"name":"nsaid","required":true,"in":"query","schema":{"type":"string"}},{"name":"start_time","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Rank"}}}},"404":{"description":""}},"tags":["ランキング"]}},"/v1/ranks/{start_time}":{"get":{"operationId":"概要取得","summary":"","parameters":[{"name":"start_time","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Rank"}}}},"404":{"description":""}},"tags":["ランキング"]}},"/v1/schedules":{"get":{"operationId":"取得","summary":"","description":"スケジュールを取得します","parameters":[],"responses":{"200":{"description":""}},"tags":["スケジュール"]},"post":{"operationId":"追加","summary":"","parameters":[],"responses":{"201":{"description":""}},"tags":["スケジュール"]}}},"info":{"title":"Salmon Stats API Documents","description":"","version":"1.0.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"TotalResultDto":{"type":"object","properties":{"global":{"type":"array","items":{"type":"string"}},"player":{"type":"array","items":{"type":"string"}}},"required":["global","player"]},"IkuraStat":{"type":"object","properties":{"golden_ikura_num":{"type":"number"},"ikura_num":{"type":"number"},"dead_count":{"type":"number"},"help_count":{"type":"number"}},"required":["golden_ikura_num","ikura_num","dead_count","help_count"]},"IkuraStats":{"type":"object","properties":{"max":{"$ref":"#/components/schemas/IkuraStat"},"min":{"$ref":"#/components/schemas/IkuraStat"},"avg":{"$ref":"#/components/schemas/IkuraStat"},"count":{"type":"number"}},"required":["max","min","avg","count"]},"SingleResultDto":{"type":"object","properties":{"global":{"$ref":"#/components/schemas/IkuraStats"},"team":{"$ref":"#/components/schemas/IkuraStats"},"player":{"$ref":"#/components/schemas/IkuraStats"},"crew":{"$ref":"#/components/schemas/IkuraStats"}},"required":["global","team"]},"StatsResultsDto":{"type":"object","properties":{"waves":{"$ref":"#/components/schemas/TotalResultDto"},"total":{"$ref":"#/components/schemas/TotalResultDto"},"single":{"$ref":"#/components/schemas/SingleResultDto"}},"required":["waves","total","single"]},"PaginatedDto":{"type":"object","properties":{"total":{"type":"integer","description":"総数"},"limit":{"type":"integer","description":"取得数"},"offset":{"type":"integer","description":"オフセット"}},"required":["total","limit","offset"]},"JobResult":{"type":"object","properties":{"failure_reason":{"type":"string","enum":["time_limit","wipe_out"],"nullable":true,"example":null},"failure_wave":{"type":"number","nullable":true,"example":null},"is_clear":{"type":"boolean","example":true}},"required":["failure_reason","failure_wave","is_clear"]},"Player":{"type":"object","properties":{"nsaid":{"type":"string","example":"0000000000000000"},"name":{"type":"string","example":"tkgling"},"boss_kill_counts":{"example":[0,0,0,0,0,0,0,0,0],"type":"array","items":{"type":"number"}},"dead_count":{"type":"number"},"golden_ikura_num":{"type":"number"},"help_count":{"type":"number"},"ikura_num":{"type":"number"},"special_id":{"type":"number"},"special_counts":{"type":"array","items":{"type":"number"}},"weapon_list":{"type":"array","items":{"type":"number"}}},"required":["nsaid","name","boss_kill_counts","dead_count","golden_ikura_num","help_count","ikura_num","special_id","special_counts","weapon_list"]},"Wave":{"type":"object","properties":{"event_type":{"type":"number"},"water_level":{"type":"number"},"golden_ikura_num":{"type":"number"},"golden_ikura_pop_num":{"type":"number"},"quota_num":{"type":"number"},"ikura_num":{"type":"number"}},"required":["event_type","water_level","golden_ikura_num","golden_ikura_pop_num","quota_num","ikura_num"]},"Schedule":{"type":"object","properties":{"start_time":{"format":"date-time","type":"string"},"stage_id":{"type":"string","enum":["SHAKEUP","SHAKESHIP","SHAKEHOUSE","SHAKELIFT","SHAKELIDE"],"example":5000},"end_time":{"format":"date-time","type":"string"},"rare_weapon":{"type":"number","nullable":true,"default":null},"weapon_list":{"type":"array","items":{"type":"number"}}},"required":["start_time","stage_id","end_time","rare_weapon","weapon_list"]},"Result":{"type":"object","properties":{"salmon_id":{"type":"number"},"boss_counts":{"example":[0,0,0,0,0,0,0,0,0],"type":"array","items":{"type":"number"}},"boss_kill_counts":{"example":[0,0,0,0,0,0,0,0,0],"type":"array","items":{"type":"number"}},"golden_ikura_num":{"type":"number"},"ikura_num":{"type":"number"},"no_night_waves":{"type":"boolean"},"danger_rate":{"type":"number"},"end_time":{"format":"date-time","type":"string"},"play_time":{"format":"date-time","type":"string"},"start_time":{"format":"date-time","type":"string"},"members":{"example":["0000000000000000","1111111111111111","2222222222222222","3333333333333333"],"type":"array","items":{"type":"string"}},"job_result":{"$ref":"#/components/schemas/JobResult"},"players":{"type":"array","items":{"$ref":"#/components/schemas/Player"}},"waves":{"type":"array","items":{"$ref":"#/components/schemas/Wave"}},"schedule":{"$ref":"#/components/schemas/Schedule"}},"required":["salmon_id","boss_counts","boss_kill_counts","golden_ikura_num","ikura_num","no_night_waves","danger_rate","end_time","play_time","start_time","members","job_result","players","waves","schedule"]},"Results":{"type":"object","properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/Result"}}},"required":["results"]},"RankIkura":{"type":"object","properties":{"golden_ikura_num":{"type":"object"},"ikura_num":{"type":"object"}},"required":["golden_ikura_num","ikura_num"]},"RankTotal":{"type":"object","properties":{"all":{"$ref":"#/components/schemas/RankIkura"},"no_night_waves":{"$ref":"#/components/schemas/RankIkura"}},"required":["all","no_night_waves"]},"Rank":{"type":"object","properties":{"total":{"$ref":"#/components/schemas/RankTotal"}},"required":["total"]}}}}